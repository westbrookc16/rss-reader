{"version":3,"sources":["utils/fetch.js","UserContext.js","AddFee.js","LogInButton.js","LogOut.js","AddPodcast.js","Menu.js","Items.js","AllStories.js","Profile.js","Home.js","Feed.js","DisplayFeeds.js","App.js","reportWebVitals.js","index.js"],"names":["callApi","url","method","data","a","fetch","body","JSON","stringify","headers","res","json","UserContext","React","createContext","UserData","props","useState","retrievedUser","setRetrievedUser","useAuth0","user","isLoading","isAuthenticated","useEffect","dbID","id","fetchUserInDb","Provider","value","children","AddFeed","onClose","onAdd","document","title","setUrl","name","setName","description","setDescription","useContext","onClick","e","isAudio","feed","alert","validURL","str","RegExp","test","resData","getData","htmlFor","type","onChange","target","message","LoginButton","loginWithRedirect","LogoutButton","logout","returnTo","window","location","origin","AddPodcast","search","setSearch","results","setResults","handleSearch","preventDefault","encodeURIComponent","subscribe","lis","map","item","collectionId","trackName","feedUrl","Menu","addFeed","setAddFeed","addPodcast","setAddPodcast","to","isOpen","AddFee","Items","items","displayItems","isaudio","Fragment","rel","href","dangerouslySetInnerHTML","__html","AllStories","useParams","setItems","fetchData","Profile","src","picture","alt","email","Home","feeds","setFeeds","feedsMap","Feed","onDelete","showModal","setShowModal","close","console","dir","log","stack","hide","setHide","length","h","DisplayFeeds","titles","deleteFeed","App","setTitles","filter","f","className","t","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","domain","clientId","redirectUri","getElementById"],"mappings":"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","file":"static/js/main.70f1e5dd.chunk.js","sourcesContent":["async function callApi(url, method, data) {\r\n  const res = await fetch(url, {\r\n    method: method,\r\n    body: JSON.stringify(data),\r\n    headers: { \"Content-Type\": \"Application/JSON\" },\r\n  });\r\n  return await res.json();\r\n}\r\nexport { callApi };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { callApi } from \"./utils/fetch\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nexport const UserContext = React.createContext({});\r\n\r\nexport function UserData(props) {\r\n  const [retrievedUser, setRetrievedUser] = useState({});\r\n  const { user, isLoading, isAuthenticated } = useAuth0();\r\n\r\n  useEffect(() => {\r\n    async function fetchUserInDb() {\r\n      if (isLoading || !isAuthenticated) return;\r\n      const res = await callApi(\"/api/users\", \"post\", user);\r\n\r\n      const data = { ...user, dbID: res[0].id };\r\n\r\n      //update context here.\r\n      setRetrievedUser(data);\r\n    }\r\n\r\n    fetchUserInDb();\r\n  }, [user, isAuthenticated, isLoading, setRetrievedUser]);\r\n\r\n  return (\r\n    <UserContext.Provider value={{ user: retrievedUser, setRetrievedUser }}>\r\n      {props.children}\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { callApi } from \"./utils/fetch\";\r\nimport { LiveMessage } from \"react-aria-live\";\r\nimport { UserContext } from \"./UserContext\";\r\nconst AddFeed = ({ onClose, onAdd }) => {\r\n  useEffect(() => {\r\n    document.title = `add Feed`;\r\n  }, []);\r\n  const [url, setUrl] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const { user } = useContext(UserContext);\r\n  const onChange = (e) => {\r\n    setUrl(e.target.value);\r\n  };\r\n  const onClick = async (e) => {\r\n    const res = await callApi(`/api/feeds/${user.dbID}`, \"post\", {\r\n      url,\r\n      isAudio: false,\r\n    });\r\n    if (res.feed.name) {\r\n      //alert(`${res.feed.name} was added successfully.`);\r\n      onAdd(res.feed);\r\n      onClose();\r\n    } else {\r\n      alert(\"an error occurred, please try again.\");\r\n    }\r\n  };\r\n  function validURL(str) {\r\n    var pattern = new RegExp(\r\n      \"^(https?:\\\\/\\\\/)?\" + // protocol\r\n        \"((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|\" + // domain name\r\n        \"((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))\" + // OR ip (v4) address\r\n        \"(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*\" + // port and path\r\n        \"(\\\\?[;&a-z\\\\d%_.~+=-]*)?\" + // query string\r\n        \"(\\\\#[-a-z\\\\d_]*)?$\",\r\n      \"i\"\r\n    ); // fragment locator\r\n    return !!pattern.test(str);\r\n  }\r\n  //fetch info for feed when textbox changes, for now.\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (!validURL(url)) return;\r\n      const data = { url };\r\n      const resData = await callApi(\"/api/rss/info\", \"post\", data);\r\n      setName(resData.title);\r\n      setDescription(resData.description);\r\n    }\r\n    getData();\r\n  }, [url]);\r\n  return (\r\n    <div>\r\n      <h1>add Feed</h1>\r\n      <label htmlFor=\"feed\">Feed Url</label>\r\n      <input type=\"text\" id=\"feed\" value={url} onChange={onChange} name=\"url\" />\r\n      <br />\r\n      <button onClick={onClick}>Add</button> &nbsp;\r\n      <button\r\n        onClick={(e) => {\r\n          onClose();\r\n        }}\r\n      >\r\n        Cancel\r\n      </button>\r\n      <div>\r\n        name: {name}\r\n        <br />\r\n        Description: {description}\r\n      </div>\r\n      <LiveMessage message={name} aria-live=\"polite\" />\r\n    </div>\r\n  );\r\n};\r\nexport default AddFeed;\r\n","import React from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst LoginButton = () => {\r\n  const { loginWithRedirect } = useAuth0();\r\n\r\n  return <button onClick={() => loginWithRedirect()}>Log In</button>;\r\n};\r\n\r\nexport default LoginButton;\r\n","import React from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst LogoutButton = () => {\r\n  const { logout } = useAuth0();\r\n\r\n  return (\r\n    <button onClick={() => logout({ returnTo: window.location.origin })}>\r\n      Log Out\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default LogoutButton;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { UserContext } from \"./UserContext\";\r\nimport { callApi } from \"./utils/fetch\";\r\nconst AddPodcast = ({ onAdd, onClose }) => {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [results, setResults] = useState([]);\r\n  const { user } = useContext(UserContext);\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    const data = await callApi(\r\n      `/api/podcasts/search?q=${encodeURIComponent(search)}`,\r\n      `get`\r\n    );\r\n    setResults(data.results);\r\n  };\r\n  const subscribe = async (url, name) => {\r\n    if (!user?.dbID) return;\r\n    const data = { name, url };\r\n    data.isAudio = true;\r\n    const res = await callApi(`api/feeds/${user.dbID}`, \"post\", data);\r\n    onAdd(res.feed);\r\n    onClose();\r\n  };\r\n  const lis = results.map((item) => {\r\n    const { collectionId, trackName, feedUrl } = item;\r\n    return (\r\n      <li key={collectionId}>\r\n        {trackName}\r\n        <button\r\n          id=\"btnSubscribe\"\r\n          onClick={(e) => {\r\n            subscribe(feedUrl, trackName);\r\n          }}\r\n        >\r\n          Subscribe\r\n        </button>\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <label htmlFor=\"search\">Enter Search Terms</label>\r\n      <input\r\n        type=\"text\"\r\n        id=\"search\"\r\n        value={search}\r\n        onChange={(e) => {\r\n          setSearch(e.target.value);\r\n        }}\r\n      />\r\n      <button onClick={handleSearch}>Search</button>\r\n      <ul>{lis}</ul>\r\n    </div>\r\n  );\r\n};\r\nexport default AddPodcast;\r\n","import * as React from \"react\";\r\nimport AddFeed from \"./AddFee\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { Dialog } from \"@reach/dialog\";\r\nimport \"@reach/dialog/styles.css\";\r\nimport LoginButton from \"./LogInButton\";\r\nimport LogoutButton from \"./LogOut\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport AddPodcast from \"./AddPodcast\";\r\n\r\nconst Menu = ({ onAdd }) => {\r\n  const { isLoading, isAuthenticated } = useAuth0();\r\n  const [addFeed, setAddFeed] = React.useState(false);\r\n  const [addPodcast, setAddPodcast] = React.useState(false);\r\n  const onClosePodcast = () => {\r\n    setAddPodcast(false);\r\n  };\r\n  const onClose = () => {\r\n    setAddFeed(false);\r\n  };\r\n  return (\r\n    <div>\r\n      {!isLoading && (\r\n        <ul id=\"mainmenu\">\r\n          <li>\r\n            <NavLink to=\"/\">Home</NavLink>\r\n          </li>\r\n          {isAuthenticated && (\r\n            <li>\r\n              <NavLink to=\"/feeds\">View Feeds/podcasts</NavLink>\r\n            </li>\r\n          )}\r\n          {isAuthenticated && (\r\n            <li>\r\n              <button\r\n                onClick={(e) => {\r\n                  setAddFeed(true);\r\n                }}\r\n              >\r\n                add Feed\r\n              </button>\r\n            </li>\r\n          )}\r\n\r\n          {isAuthenticated && (\r\n            <li>\r\n              <button\r\n                onClick={(e) => {\r\n                  setAddPodcast(true);\r\n                }}\r\n              >\r\n                add Podcast\r\n              </button>\r\n            </li>\r\n          )}\r\n          {!isAuthenticated && (\r\n            <li>\r\n              <LoginButton />\r\n            </li>\r\n          )}\r\n\r\n          {isAuthenticated && (\r\n            <li>\r\n              <LogoutButton />\r\n            </li>\r\n          )}\r\n        </ul>\r\n      )}\r\n\r\n      <Dialog isOpen={addFeed}>\r\n        <AddFeed onClose={onClose} onAdd={onAdd} />\r\n      </Dialog>\r\n      <Dialog isOpen={addPodcast}>\r\n        <AddPodcast onAdd={onAdd} onClose={onClosePodcast} />\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React from \"react\";\r\n\r\nconst Items = ({ items, isaudio }) => {\r\n  const displayItems = items.map((item) => {\r\n    const { id, title, url, description } = item;\r\n    return (\r\n      <React.Fragment key={id}>\r\n        <h3>\r\n          <a rel=\"noreferrer\" target=\"_blank\" href={url}>\r\n            {title}\r\n          </a>\r\n        </h3>\r\n        <div dangerouslySetInnerHTML={{ __html: description }}></div> <br />\r\n      </React.Fragment>\r\n    );\r\n  });\r\n\r\n  return <>{displayItems}</>;\r\n};\r\nexport default Items;\r\n","import * as React from \"react\";\r\nimport Items from \"./Items\";\r\nimport { callApi } from \"./utils/fetch\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst AllStories = () => {\r\n  const { id } = useParams();\r\n\r\n  const [items, setItems] = React.useState([]);\r\n  React.useEffect(() => {\r\n    async function fetchData() {\r\n      if (!id) return;\r\n      const data = await callApi(`/api/items/${id}`);\r\n      setItems(data);\r\n      document.title = data[0].name;\r\n    }\r\n    fetchData();\r\n  }, [id]);\r\n\r\n  return (\r\n    <div>\r\n      <h1>All Stories</h1>\r\n      <h2>{items[0]?.name}</h2>\r\n      <Items items={items} isaudio={false} />\r\n    </div>\r\n  );\r\n};\r\nexport default AllStories;\r\n","import React, { useContext } from \"react\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nconst Profile = () => {\r\n  const { user } = useContext(UserContext);\r\n  return (\r\n    <div>\r\n      {user && (\r\n        <div>\r\n          <img src={user.picture} alt={user.name} />\r\n          <h2>{user.name}</h2>\r\n          <p>{user.email}</p>\r\n          {JSON.stringify(user)}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { callApi } from \"./utils/fetch\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nconst Home = () => {\r\n  const { user } = useContext(UserContext);\r\n  useEffect(() => {\r\n    document.title = `Home`;\r\n  }, []);\r\n  const [feeds, setFeeds] = useState([]);\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      if (!user.dbID) return;\r\n      const feeds = await callApi(`/api/feeds/${user.dbID}`);\r\n      setFeeds(feeds);\r\n    }\r\n    fetchData();\r\n  }, [user.dbID]);\r\n  const feedsMap = feeds.map((item) => {\r\n    const { id, name } = item;\r\n    return (\r\n      <li key={id}>\r\n        <NavLink to={`/all/${id}`}>{name}</NavLink>\r\n      </li>\r\n    );\r\n  });\r\n  return (\r\n    <div>\r\n      <h2>View Archived Stories</h2>\r\n      <ul>{feedsMap}</ul>\r\n      Welcome to my RSS reader. RSS stands for really simple syndication. This\r\n      is a format offered by most publications that allows you to grab stories\r\n      from that publication's website without having to go to the website of\r\n      that publication and search for them. You can therefore make your own\r\n      newspaper. Simply google the name of your favorite publication and rss to\r\n      see a list of feeds that publication may offer.\r\n    </div>\r\n  );\r\n};\r\nexport default Home;\r\n","import * as React from \"react\";\r\nimport { Dialog } from \"@reach/dialog\";\r\nimport \"@reach/dialog/styles.css\";\r\nimport Items from \"./Items\";\r\nimport { callApi } from \"./utils/fetch\";\r\nimport { UserContext } from \"./UserContext\";\r\nconst Feed = ({ name, id, isaudio, onDelete }) => {\r\n  const [items, setItems] = React.useState([]);\r\n  const { user } = React.useContext(UserContext);\r\n  const [showModal, setShowModal] = React.useState(false);\r\n  const close = () => {\r\n    setShowModal(false);\r\n  };\r\n  React.useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        console.dir(user);\r\n        if (!user[\"dbID\"]) {\r\n          return;\r\n        }\r\n        console.log(`good`);\r\n        const data = await callApi(`/api/items/${id}/${user[\"dbID\"]}`);\r\n        setItems(data);\r\n      } catch (e) {\r\n        console.log(e.stack);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [id, user]);\r\n  const [hide, setHide] = React.useState(true);\r\n  const hideToggle = () => setHide((h) => (h ? false : true));\r\n  if (items.length === 0) return null;\r\n  return (\r\n    <>\r\n      <h2>{name}</h2>\r\n      <button onClick={hideToggle}>{hide ? `Hide` : `Show`}</button>\r\n\r\n      <button\r\n        onClick={(e) => {\r\n          setShowModal(true);\r\n        }}\r\n      >\r\n        Delete\r\n      </button>\r\n      {hide && <Items items={items} isaudio={isaudio} />}\r\n\r\n      <Dialog isOpen={showModal} onClose={close}>\r\n        Are you sure you want to delete {name}?\r\n        <button\r\n          onClick={(e) => {\r\n            onDelete(id);\r\n          }}\r\n        >\r\n          Delete\r\n        </button>\r\n        <button onClick={close}>No</button>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\nexport default Feed;\r\n","import React, { useEffect } from \"react\";\r\nimport Feed from \"./Feed\";\r\n\r\nconst DisplayFeeds = ({ titles, deleteFeed }) => {\r\n  useEffect(() => {\r\n    document.title = `View  Stories`;\r\n  }, []);\r\n\r\n  const feeds = titles.map((item) => {\r\n    const { name, id, isaudio } = item;\r\n    return (\r\n      <Feed\r\n        key={id}\r\n        name={name}\r\n        id={id}\r\n        isaudio={isaudio}\r\n        onDelete={deleteFeed}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <h1>View Stories</h1>\r\n\r\n      {feeds}\r\n    </div>\r\n  );\r\n};\r\nexport default DisplayFeeds;\r\n","import * as React from \"react\";\r\nimport { UserContext } from \"./UserContext\";\r\nimport { callApi } from \"./utils/fetch\";\r\nimport Menu from \"./Menu\";\r\n\r\nimport AllStories from \"./AllStories\";\r\n\r\nimport AddFeed from \"./AddFee\";\r\nimport Profile from \"./Profile\";\r\nimport Home from \"./Home\";\r\nimport DisplayFeeds from \"./DisplayFeeds\";\r\nimport \"./App.css\";\r\nimport AddPodcast from \"./AddPodcast\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nfunction App() {\r\n  const [titles, setTitles] = React.useState([]);\r\n  const { user } = React.useContext(UserContext);\r\n  //called when adding feeds\r\n  const addFeed = (feed) => {\r\n    setTitles((t) => {\r\n      console.log(`adding`);\r\n      return [...t, feed];\r\n    });\r\n  };\r\n  //get feeds\r\n\r\n  React.useEffect(() => {\r\n    async function fetch() {\r\n      try {\r\n        if (!user.dbID) return;\r\n        const res = await callApi(`/api/feeds/${user.dbID}`, \"get\");\r\n        setTitles(res);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n    fetch();\r\n  }, [user]);\r\n  const deleteFeed = async (id) => {\r\n    await callApi(`/api/feeds/${id}/${user.dbID}`, `delete`);\r\n    setTitles((feeds) => feeds.filter((f) => f.id !== id));\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <nav>\r\n          <Menu onAdd={addFeed} />\r\n        </nav>\r\n        <main>\r\n          <Switch>\r\n            <Route path=\"/all/:id\">\r\n              <AllStories />\r\n            </Route>\r\n            <Route path=\"/feeds\">\r\n              <DisplayFeeds titles={titles} deleteFeed={deleteFeed} />\r\n            </Route>\r\n            <Route path=\"/profile\">\r\n              <Profile />\r\n            </Route>\r\n            <Route path=\"/addFeed\">\r\n              <AddFeed />\r\n            </Route>\r\n            <Route path=\"/addPodcast\">\r\n              <AddPodcast />\r\n            </Route>\r\n            <Route path=\"/\">\r\n              <Home />\r\n            </Route>\r\n          </Switch>\r\n        </main>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport { UserData } from \"./UserContext\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { LiveAnnouncer } from \"react-aria-live\";\r\nimport { Auth0Provider } from \"@auth0/auth0-react\";\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <LiveAnnouncer>\r\n      <Auth0Provider\r\n        domain=\"rss-reader.us.auth0.com\"\r\n        clientId=\"Xr72wW2ifM0PCpAAcTQ4MHt8htI9FkES\"\r\n        redirectUri={window.location.origin}\r\n      >\r\n        <UserData>\r\n          <App />\r\n        </UserData>\r\n      </Auth0Provider>\r\n    </LiveAnnouncer>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}