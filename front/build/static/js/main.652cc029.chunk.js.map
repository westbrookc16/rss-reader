{"version":3,"sources":["logo.svg","LogInButton.js","LogOut.js","Menu.js","utils/fetch.js","UserContext.js","Callback.js","AddFee.js","Profile.js","Home.js","Items.js","Feed.js","Feeds.js","DisplayFeeds.js","AddPodcast.js","App.js","reportWebVitals.js","index.js"],"names":["LoginButton","loginWithRedirect","useAuth0","onClick","LogoutButton","logout","returnTo","window","location","origin","Menu","isLoading","isAuthenticated","to","callApi","url","method","data","a","fetch","body","JSON","stringify","headers","res","json","UserContext","React","createContext","UserData","props","useState","retrievedUser","setRetrievedUser","user","useEffect","dbID","id","fetchUserInDb","Provider","value","children","Callback","history","useHistory","setUser","useContext","push","AddFeed","document","title","setUrl","name","setName","description","setDescription","e","feed","alert","validURL","str","RegExp","test","resData","getData","htmlFor","type","onChange","target","message","Profile","src","picture","alt","email","Home","Items","items","displayItems","isaudio","map","item","Fragment","rel","href","dangerouslySetInnerHTML","__html","Feed","onDelete","setItems","showModal","setShowModal","close","console","dir","log","stack","fetchData","hide","setHide","length","h","isOpen","onClose","Feeds","feeds","titles","DisplayFeeds","setTitles","deleteFeed","filter","f","AddPodcast","search","setSearch","results","setResults","handleSearch","preventDefault","encodeURIComponent","subscribe","isAudio","lis","collectionId","trackName","feedUrl","App","className","logo","path","AddFee","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","domain","clientId","redirectUri","getElementById"],"mappings":"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","file":"static/js/main.652cc029.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst LoginButton = () => {\r\n  const { loginWithRedirect } = useAuth0();\r\n\r\n  return <button onClick={() => loginWithRedirect()}>Log In</button>;\r\n};\r\n\r\nexport default LoginButton;\r\n","import React from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst LogoutButton = () => {\r\n  const { logout } = useAuth0();\r\n\r\n  return (\r\n    <button onClick={() => logout({ returnTo: window.location.origin })}>\r\n      Log Out\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default LogoutButton;\r\n","import React from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport LoginButton from \"./LogInButton\";\r\nimport LogoutButton from \"./LogOut\";\r\nimport { NavLink } from \"react-router-dom\";\r\nconst Menu = () => {\r\n  const { isLoading, isAuthenticated } = useAuth0();\r\n  return (\r\n    <div>\r\n      {!isLoading && (\r\n        <ul>\r\n          <li>\r\n            <NavLink to=\"/\">Home</NavLink>\r\n          </li>\r\n          {isAuthenticated && (\r\n            <li>\r\n              <NavLink to=\"/feeds\">View Feeds/podcasts</NavLink>\r\n            </li>\r\n          )}\r\n          {isAuthenticated && (\r\n            <li>\r\n              <NavLink to=\"/addfeed\">Add Feed</NavLink>\r\n            </li>\r\n          )}\r\n\r\n          {isAuthenticated && (\r\n            <li>\r\n              <NavLink to=\"/addpodcast\">Add Podcast</NavLink>\r\n            </li>\r\n          )}\r\n          {!isAuthenticated && (\r\n            <li>\r\n              <LoginButton />\r\n            </li>\r\n          )}\r\n\r\n          {isAuthenticated && (\r\n            <li>\r\n              <LogoutButton />\r\n            </li>\r\n          )}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","async function callApi(url, method, data) {\r\n  const res = await fetch(url, {\r\n    method: method,\r\n    body: JSON.stringify(data),\r\n    headers: { \"Content-Type\": \"Application/JSON\" },\r\n  });\r\n  return await res.json();\r\n}\r\nexport { callApi };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { callApi } from \"./utils/fetch\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nexport const UserContext = React.createContext({});\r\n\r\nexport function UserData(props) {\r\n  const [retrievedUser, setRetrievedUser] = useState({});\r\n  const { user, isLoading, isAuthenticated } = useAuth0();\r\n\r\n  useEffect(() => {\r\n    async function fetchUserInDb() {\r\n      if (isLoading || !isAuthenticated) return;\r\n      const res = await callApi(\"/api/users\", \"post\", user);\r\n\r\n      const data = { ...user, dbID: res[0].id };\r\n\r\n      //update context here.\r\n      setRetrievedUser(data);\r\n    }\r\n\r\n    fetchUserInDb();\r\n  }, [user, isAuthenticated, isLoading, setRetrievedUser]);\r\n\r\n  return (\r\n    <UserContext.Provider value={{ user: retrievedUser, setRetrievedUser }}>\r\n      {props.children}\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n","import React, { useEffect, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"./UserContext\";\r\nimport { callApi } from \"./utils/fetch\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nconst Callback = () => {\r\n  const { user, isLoading } = useAuth0();\r\n  let history = useHistory();\r\n\r\n  const { setUser } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    async function fetchUserInDb() {\r\n      if (isLoading) return;\r\n      const res = await callApi(\"/api/users\", \"post\", user);\r\n\r\n      const data = { ...user, dbID: res[0].id };\r\n\r\n      //update context here.\r\n      setUser(data);\r\n      history.push(\"/profile\");\r\n    }\r\n\r\n    fetchUserInDb();\r\n  }, [isLoading, user, setUser, history]);\r\n\r\n  return <div>Loading...</div>;\r\n};\r\nexport default Callback;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { callApi } from \"./utils/fetch\";\r\nimport { LiveMessage } from \"react-aria-live\";\r\nimport { UserContext } from \"./UserContext\";\r\nconst AddFeed = () => {\r\n  useEffect(() => {\r\n    document.title = `add Feed`;\r\n  }, []);\r\n  const [url, setUrl] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const { user } = useContext(UserContext);\r\n  const onChange = (e) => {\r\n    setUrl(e.target.value);\r\n  };\r\n  const onClick = async (e) => {\r\n    const res = await callApi(`/api/feeds/${user.dbID}`, \"post\", { url });\r\n    if (res.feed.name) {\r\n      alert(`${res.feed.name} was added successfully.`);\r\n    } else {\r\n      alert(\"an error occurred, please try again.\");\r\n    }\r\n  };\r\n  function validURL(str) {\r\n    var pattern = new RegExp(\r\n      \"^(https?:\\\\/\\\\/)?\" + // protocol\r\n        \"((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|\" + // domain name\r\n        \"((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))\" + // OR ip (v4) address\r\n        \"(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*\" + // port and path\r\n        \"(\\\\?[;&a-z\\\\d%_.~+=-]*)?\" + // query string\r\n        \"(\\\\#[-a-z\\\\d_]*)?$\",\r\n      \"i\"\r\n    ); // fragment locator\r\n    return !!pattern.test(str);\r\n  }\r\n  //fetch info for feed when textbox changes, for now.\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (!validURL(url)) return;\r\n      const data = { url };\r\n      const resData = await callApi(\"/api/rss/info\", \"post\", data);\r\n      setName(resData.title);\r\n      setDescription(resData.description);\r\n    }\r\n    getData();\r\n  }, [url]);\r\n  return (\r\n    <div>\r\n      <label htmlFor=\"feed\">Feed Url</label>\r\n      <input type=\"text\" id=\"feed\" value={url} onChange={onChange} name=\"url\" />\r\n      <br />\r\n\r\n      <button onClick={onClick}>Add</button>\r\n      <div>\r\n        name:{name}\r\n        <br />\r\n        Description:{description}\r\n      </div>\r\n      <LiveMessage message={name} aria-live=\"polite\" />\r\n    </div>\r\n  );\r\n};\r\nexport default AddFeed;\r\n","import React, { useContext } from \"react\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nconst Profile = () => {\r\n  const { user } = useContext(UserContext);\r\n  return (\r\n    <div>\r\n      {user && (\r\n        <div>\r\n          <img src={user.picture} alt={user.name} />\r\n          <h2>{user.name}</h2>\r\n          <p>{user.email}</p>\r\n          {JSON.stringify(user)}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useEffect } from \"react\";\r\n\r\nconst Home = () => {\r\n  useEffect(() => {\r\n    document.title = `Home`;\r\n  }, []);\r\n  return (\r\n    <div>\r\n      Welcome to my RSS reader. RSS stands for really simple syndication. This\r\n      is a format offered by most publications that allows you to grab stories\r\n      from that publication's website without having to go to the website of\r\n      that publication and search for them. You can therefore make your own\r\n      newspaper. Simply google the name of your favorite publication and rss to\r\n      see a list of feeds that publication may offer.\r\n    </div>\r\n  );\r\n};\r\nexport default Home;\r\n","import React from \"react\";\r\n\r\nconst Items = ({ items, isaudio }) => {\r\n  const displayItems = items.map((item) => {\r\n    const { id, title, url, description } = item;\r\n    return (\r\n      <React.Fragment key={id}>\r\n        <h3>\r\n          <a rel=\"noreferrer\" target=\"_blank\" href={url}>\r\n            {title}\r\n          </a>\r\n        </h3>\r\n        <div dangerouslySetInnerHTML={{ __html: description }}></div> <br />\r\n      </React.Fragment>\r\n    );\r\n  });\r\n\r\n  return <>{displayItems}</>;\r\n};\r\nexport default Items;\r\n","import * as React from \"react\";\r\nimport { Dialog } from \"@reach/dialog\";\r\nimport \"@reach/dialog/styles.css\";\r\nimport Items from \"./Items\";\r\nimport { callApi } from \"./utils/fetch\";\r\nimport { UserContext } from \"./UserContext\";\r\nconst Feed = ({ name, id, isaudio, onDelete }) => {\r\n  const [items, setItems] = React.useState([]);\r\n  const { user } = React.useContext(UserContext);\r\n  const [showModal, setShowModal] = React.useState(false);\r\n  const close = () => {\r\n    setShowModal(false);\r\n  };\r\n  React.useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        console.dir(user);\r\n        if (!user[\"dbID\"]) {\r\n          return;\r\n        }\r\n        console.log(`good`);\r\n        const data = await callApi(`/api/items/${id}/${user[\"dbID\"]}`);\r\n        setItems(data);\r\n      } catch (e) {\r\n        console.log(e.stack);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [id, user]);\r\n  const [hide, setHide] = React.useState(true);\r\n  const hideToggle = () => setHide((h) => (h ? false : true));\r\n  if (items.length === 0) return null;\r\n  return (\r\n    <>\r\n      <h2>{name}</h2>\r\n      <button onClick={hideToggle}>{hide ? `Hide` : `Show`}</button>\r\n\r\n      <button\r\n        onClick={(e) => {\r\n          setShowModal(true);\r\n        }}\r\n      >\r\n        Delete\r\n      </button>\r\n      {hide && <Items items={items} isaudio={isaudio} />}\r\n\r\n      <Dialog isOpen={showModal} onClose={close}>\r\n        Are you sure you want to delete {name}?\r\n        <button\r\n          onClick={(e) => {\r\n            onDelete(id);\r\n          }}\r\n        >\r\n          Delete\r\n        </button>\r\n        <button onClick={close}>No</button>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\nexport default Feed;\r\n","import React from \"react\";\r\nimport Feed from \"./Feed\";\r\n\r\nconst Feeds = ({ onDelete, titles }) => {\r\n  //const [items, setITems] = useState([]);\r\n  const feeds = titles.map((item) => {\r\n    const { name, id, isaudio } = item;\r\n    return (\r\n      <Feed\r\n        key={id}\r\n        name={name}\r\n        id={id}\r\n        isaudio={isaudio}\r\n        onDelete={onDelete}\r\n      />\r\n    );\r\n  });\r\n  return <div>{feeds}</div>;\r\n};\r\nexport default Feeds;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\n\r\nimport { callApi } from \"./utils/fetch\";\r\nimport Feeds from \"./Feeds\";\r\nimport { UserContext } from \"./UserContext\";\r\nconst DisplayFeeds = () => {\r\n  useEffect(() => {\r\n    document.title = `View  Stories`;\r\n  }, []);\r\n  const [titles, setTitles] = useState([]);\r\n  const { user } = useContext(UserContext);\r\n  //get feeds\r\n\r\n  useEffect(() => {\r\n    async function fetch() {\r\n      try {\r\n        if (!user.dbID) return;\r\n        const res = await callApi(`/api/feeds/${user.dbID}`, \"get\");\r\n        setTitles(res);\r\n        console.dir(res);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n    fetch();\r\n  }, [user]);\r\n  const deleteFeed = async (id) => {\r\n    await callApi(`/api/feeds/${id}/${user.dbID}`, `delete`);\r\n    setTitles((feeds) => feeds.filter((f) => f.id !== id));\r\n  };\r\n  return (\r\n    <div>\r\n      <h1>View Stories</h1>\r\n\r\n      <Feeds titles={titles} onDelete={deleteFeed} />\r\n    </div>\r\n  );\r\n};\r\nexport default DisplayFeeds;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { UserContext } from \"./UserContext\";\r\nimport { callApi } from \"./utils/fetch\";\r\nconst AddPodcast = () => {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [results, setResults] = useState([]);\r\n  const { user } = useContext(UserContext);\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    const data = await callApi(\r\n      `/api/podcasts/search?q=${encodeURIComponent(search)}`,\r\n      `get`\r\n    );\r\n    setResults(data.results);\r\n  };\r\n  const subscribe = async (url, name) => {\r\n    const data = { name, url };\r\n    data.isAudio = true;\r\n    const res = await callApi(`api/feeds/${user.dbID}`, \"post\", data);\r\n    console.log(res);\r\n  };\r\n  const lis = results.map((item) => {\r\n    const { collectionId, trackName, feedUrl } = item;\r\n    return (\r\n      <li key={collectionId}>\r\n        {trackName}\r\n        <button\r\n          id=\"btnSubscribe\"\r\n          onClick={(e) => {\r\n            subscribe(feedUrl, trackName);\r\n          }}\r\n        >\r\n          Subscribe\r\n        </button>\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <label htmlFor=\"search\">Enter Search Terms</label>\r\n      <input\r\n        type=\"text\"\r\n        id=\"search\"\r\n        value={search}\r\n        onChange={(e) => {\r\n          setSearch(e.target.value);\r\n        }}\r\n      />\r\n      <button onClick={handleSearch}>Search</button>\r\n      <ul>{lis}</ul>\r\n    </div>\r\n  );\r\n};\r\nexport default AddPodcast;\r\n","import logo from \"./logo.svg\";\r\nimport Menu from \"./Menu\";\r\nimport { UserData } from \"./UserContext\";\r\nimport Callback from \"./Callback\";\r\nimport AddFeed from \"./AddFee\";\r\nimport Profile from \"./Profile\";\r\nimport Home from \"./Home\";\r\nimport DisplayFeeds from \"./DisplayFeeds\";\r\nimport \"./App.css\";\r\nimport AddPodcast from \"./AddPodcast\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nfunction App() {\r\n  return (\r\n    <UserData>\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n        </header>\r\n        <Router>\r\n          <nav>\r\n            <Menu />\r\n          </nav>\r\n          <main>\r\n            <Switch>\r\n              <Route path=\"/callback\">\r\n                <Callback />\r\n              </Route>\r\n              <Route path=\"/feeds\">\r\n                <DisplayFeeds />\r\n              </Route>\r\n              <Route path=\"/profile\">\r\n                <Profile />\r\n              </Route>\r\n              <Route path=\"/addFeed\">\r\n                <AddFeed />\r\n              </Route>\r\n              <Route path=\"/addPodcast\">\r\n                <AddPodcast />\r\n              </Route>\r\n              <Route path=\"/\">\r\n                <Home />\r\n              </Route>\r\n            </Switch>\r\n          </main>\r\n        </Router>\r\n      </div>\r\n    </UserData>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { LiveAnnouncer } from \"react-aria-live\";\r\nimport { Auth0Provider } from \"@auth0/auth0-react\";\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <LiveAnnouncer>\r\n      <Auth0Provider\r\n        domain=\"rss-reader.us.auth0.com\"\r\n        clientId=\"Xr72wW2ifM0PCpAAcTQ4MHt8htI9FkES\"\r\n        redirectUri={window.location.origin}\r\n      >\r\n        <App />\r\n      </Auth0Provider>\r\n    </LiveAnnouncer>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}